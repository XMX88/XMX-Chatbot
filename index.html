<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="XMX Chatbot - Professional AI-powered Conversational Assistant">
    <title>XMX Chatbot - AI Assistant</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="chatbot-container">
        <!-- Header -->
        <div class="chatbot-header">
            <div class="header-content">
                <div class="header-title">
                    <div class="logo">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="title-group">
                        <h1>XMX Chatbot</h1>
                        <span class="status-badge">
                            <span class="status-dot"></span>
                            Online
                        </span>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="header-btn" id="refreshBtn" title="New Chat">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="header-btn" id="settingsBtn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button class="header-btn" id="logoutBtn" title="Logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Chat Area -->
        <div class="chatbot-messages" id="chatMessages">
            <div class="welcome-section">
                <div class="welcome-icon">
                    <i class="fas fa-sparkles"></i>
                </div>
                <h2>Welcome to XMX Chatbot</h2>
                <p>Your intelligent AI assistant powered by cutting-edge technology</p>
                <div class="feature-grid">
                    <div class="feature-item">
                        <i class="fas fa-lightning-bolt"></i>
                        <span>Instant Responses</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-brain"></i>
                        <span>Smart Learning</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>Secure & Private</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-globe"></i>
                        <span>Multi-Language</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Input Section -->
        <div class="chatbot-input-section">
            <div class="input-wrapper">
                <input 
                    type="text" 
                    id="messageInput" 
                    class="message-input" 
                    placeholder="Type your message here..."
                    autocomplete="off"
                >
                <div class="input-actions">
                    <button class="action-btn" id="attachBtn" title="Attach File">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <button class="action-btn" id="voiceBtn" title="Voice Note">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="send-btn" id="sendBtn" title="Send Message">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <div class="input-info">Powered by Google Generative AI | Free Tier</div>
        </div>

        <!-- Settings Modal -->
        <div class="modal" id="settingsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Settings</h2>
                    <button class="close-btn" id="closeSettings">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <label>Theme</label>
                        <select id="themeSelect">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                            <option value="auto">Auto</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="soundToggle" checked>
                            Enable Sound Notifications
                        </label>
                    </div>
                    <div class="setting-group">
                        <label>Clear Chat History</label>
                        <button class="danger-btn" id="clearHistoryBtn">Clear All Messages</button>
                    </div>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="liveToggle">
                            Live Mode (use server API /api/chat)
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Attach / Actions Modal -->
        <div class="modal" id="attachModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Attach / Actions</h2>
                    <button class="close-btn" id="closeAttachModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="attach-grid">
                        <button class="attach-btn" data-action="create-image"><i class="fas fa-image"></i><span>Add Image</span></button>
                        <button class="attach-btn" data-action="thinking"><i class="fas fa-brain"></i><span>Thinking</span></button>
                        <button class="attach-btn" data-action="deep-research"><i class="fas fa-search"></i><span>Deep Research</span></button>
                        <button class="attach-btn" data-action="study-learn"><i class="fas fa-book-open"></i><span>Study & Learn</span></button>
                        <button class="attach-btn" data-action="web-search"><i class="fas fa-globe"></i><span>Web Search</span></button>
                    </div>
                    <input type="file" accept="image/*" id="imageFileInput" style="display:none">
                </div>
            </div>
        </div>

        <!-- Voice Note Modal -->
        <div class="modal" id="voiceModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Voice Note</h2>
                    <button class="close-btn" id="closeVoiceModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="voice-recorder">
                        <div class="voice-status" id="voiceStatus">Ready to record</div>
                        <div class="voice-timer" id="voiceTimer">00:00</div>
                        <div class="voice-controls">
                            <button class="voice-btn" id="recordBtn">
                                <i class="fas fa-circle"></i> Start Recording
                            </button>
                            <button class="voice-btn" id="stopBtn" style="display:none;">
                                <i class="fas fa-stop"></i> Stop Recording
                            </button>
                        </div>
                        <div class="voice-playback" id="voicePlayback" style="display:none;">
                            <p>Recording saved</p>
                            <audio id="audioPlayback" controls style="width:100%; margin: 10px 0;"></audio>
                            <div class="voice-actions">
                                <button class="modal-btn" id="sendVoiceBtn">
                                    <i class="fas fa-paper-plane"></i> Send Voice Note
                                </button>
                                <button class="modal-btn secondary" id="rerecordBtn">
                                    <i class="fas fa-redo"></i> Re-record
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
            <div class="toast" id="toast"></div>

            <!-- First-visit Welcome Modal (shown once) -->
            <div class="modal" id="welcomeModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Welcome to XMX Chatbot</h2>
                        <button class="close-btn" id="closeWelcomeBtn"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="modal-body">
                        <p>Welcome! This site uses a secure server-side API. Tap "Start" to begin chatting.</p>
                        <div style="margin-top:12px; text-align:right;">
                            <button class="modal-btn" id="startBtn">Start</button>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <script src="script.js"></script>
</body>
</html>